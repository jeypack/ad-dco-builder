//@example ad.splitText('div.wrapper-banner div.typo', { type: 'lines,words,chars', lineClass: 'line', wordClass: 'word', charClass: 'char', linePaddingLeft: [], lineHeight: [], wordSize: [], position: 'relative' })
!function(t){"use strict";function e(t,e){this.init("char",t,e,null)}function n(t,e){this.init("word",t,e,[])}function i(t,e){this.init("line",t,e,[])}function r(t,e,n){this.init(t,e,n,[])}var s,l,h,o,d=window.EGPlus,a=d.ad&&"object"==typeof d.ad?d.ad:{},c=document;(l=e.prototype).init=function(t,e,n,i){this.type=t,this.target=e,this.children=i,"line"!==t&&"word"!==t&&"char"!==t||(this.styles=[]),"root"!==t&&(this.content=n||""),"line"!==t&&"word"!==t&&"char"!==t&&(this.lines=[]),"word"!==t&&"char"!==t&&(this.words=[]),"char"!==t&&(this.chars=[])},l.inline=function(t){t.position&&""!==t.position&&(this.styles.push("position: "+t.position+";"),this.styles.push("display: inline-block;"))},(h=n.prototype=Object.create(l)).add=function(t){return this.children.push(t),this},h.html=function(t,e,n){var i=c.createElement("div");return t.styles.length&&(i.style.cssText=t.styles.join(" ")),e&&""!==e&&(i.className=e),n&&""!==n&&(i.innerHTML=n),t.target=i,this.target.appendChild(i),i},o=i.prototype=Object.create(h),(s=r.prototype=Object.create(o)).getLineComp=function(t){return this.children[0].children[t]},s.revert=function(){var t,e,n,i,r,s=this.children.length;if(this.lines.splice(0),this.words.splice(0),this.chars.splice(0),"root"===this.type)for(;--s>-1;)this.children[s].revert();else{for(;--s>-1;){for((i=this.children[s]).words=[],i.chars=[],t=i.children.length;--t>-1;){for((r=i.children[t]).chars=[],e=r.children.length;--e>-1;)r.children[e].target=null,null;r=r.children=r.target=null}i=i.children=i.target=null}for(t=(n=this.target).childNodes.length;--t>-1;)n.removeChild(n.childNodes[t]);n.innerHTML=this.content}},a.splitText=function(s,l){var h,o,a,p,g,u,f,w,y=new r("root",s&&s.find?s:t(s)),m=function(t,s){var l,h,o,d,f,w,m,C,x,L,v,H,b=s.split("<br>"),T=new r("block",t,s);for(t.innerHTML="",d=b.length,l=0;l<d;l++)for(x=new i(T.target,b[l]),p?(x.inline(a),a.linePaddingLeft.length>0&&x.styles.push("padding-left: "+(a.linePaddingLeft[y.lines.length]||a.linePaddingLeft[a.linePaddingLeft.length-1])+"px;"),a.lineHeight.length>0&&x.styles.push("line-height: "+(a.lineHeight[y.lines.length]||a.lineHeight[a.lineHeight.length-1])+"px;"),T.html(x,a.lineClass,g||u?"":x.content),T.lines.push(x.target),y.lines.push(x.target)):l>0&&x.target.appendChild(document.createElement("br")),T.add(x),f=(m=b[l].split(" ")).length,h=0;h<f;h++)for(L=new n(x.target,m[h]),g&&""!==m[h]&&(L.inline(a),a.wordSize.length>0&&L.styles.push("font-size: "+(a.wordSize[y.words.length]||a.wordSize[a.wordSize.length-1])+"px;"),x.html(L,a.wordClass,u?"":L.content),x.words.push(L.target),T.words.push(L.target),y.words.push(L.target)),g&&h!==f-1&&x.target.appendChild(c.createTextNode(" ")),x.add(L),w=(C=m[h].split("")).length,o=0;o<w;o++)v=new e(L.target,C[o]),u&&(v.inline(a),L.html(v,a.charClass,v.content),L.chars.push(v.target),x.chars.push(v.target),T.chars.push(v.target),y.chars.push(v.target),!g&&l>0&&h!==f-1&&o===w-1&&((H=document.createElement("span")).appendChild(c.createTextNode(" ")),x.target.appendChild(H))),L.add(v);return T};for(a=d.extend({type:"lines,words,chars",lineClass:"line",wordClass:"word",charClass:"char",linePaddingLeft:[],lineHeight:[],wordSize:[],position:""},l),p=-1!==a.type.indexOf("lines"),g=-1!==a.type.indexOf("words"),u=-1!==a.type.indexOf("chars"),o=y.target.length,h=0;h<o;h++)f=m(w=y.target[h],w.innerHTML),y.add(f);return y}}(window.EGPlus.$);