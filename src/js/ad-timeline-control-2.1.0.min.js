//@license  T I M E L I N E - C O N T R O L S - Version  : 2.1.0 - Author   : J. Pfeifer  @egplusww.com
!function(t){"use strict";var e,i,n,l,o=t.$,a=t.ad,r=o("#bg-exit"),p=o("body");a.on("start",function(){a.createTimelineControl(),a.initTimelineControl()}),a.createTimelineControl=function(o){"object"==typeof o?(o.step||(o.step=.001),o.bottom||(o.bottom=0)):o={bottom:0,step:.01};a.tl.totalDuration();var p={id:"timeline-control"},s={position:"absolute",left:"0",right:"0",top:"0px",bottom:"auto",width:"100%",height:"25px",borderTop:"1px dashed rgba(0,0,0,0.5)",borderBottom:"1px dashed rgba(0,0,0,0.5)",color:"#333",fontSize:"12px",background:"rgba(255,255,255,0.7)"};o.bottom&&"number"==typeof o.bottom&&(s.top="auto",s.bottom=o.bottom+"px"),e=t.createElem(r[0],"div",p,s),p={type:"range",min:"0",max:"100.0",value:"0",step:o.step.toString()},s={width:4*Math.floor(gsap.getProperty(r[0],"width")/6)+"px",margin:"5px 5px"},i=t.createElem(e,"input",p,s),t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="00",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle"}).textContent=".",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="99",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="/",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="99",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle"}).textContent=".",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="99",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="click through:",n=t.createElem(e,"input",{type:"checkbox",value:"clickThrough"},{display:"inline-block",verticalAlign:"middle",margin:"0px 6px 10px 2px"}),l=r.find("#timeline-control"),gsap.set(l,{opacity:0})},a.initTimelineControl=function(){console.log("ðŸ˜Ž","T I M E L I N E - C O N T R O L S ","2.1.0","âœ…");var o=l.find("span"),s=!1,c=!1,d=!1,m=a.tl.duration(),g=a.tl.totalDuration(),u=function(){c?(a.ctrlTimeline.play(),a.tl.play(),c=!1):(a.ctrlTimeline.pause(),a.tl.pause(),c=!0)};e.addEventListener("mouseenter",function(t){gsap.killTweensOf(e),gsap.to(e,{duration:.3,opacity:1}),d||c||(a.ctrlTimeline.pause(),a.tl.pause(),c=!0)}),e.addEventListener("mouseleave",function(t){gsap.to(e,{duration:.25,opacity:0,delay:.5}),d||c&&(a.ctrlTimeline.play(),a.tl.play(),c=!1)}),i.max=m,i.addEventListener("input",function(t){t.stopImmediatePropagation();var e=parseFloat(t.target.value,10);a.ctrlTimeline.seek(e).pause(),a.tl.seek(e).pause(),d=!0}),n.addEventListener("change",function(t){s=!s}),e.addEventListener("click",function(t){t.stopImmediatePropagation()}),t.on("clickThrough",function(e){s?d&&(u(),d=!1):(t.stopPropagation(e),u(),d=c)}),r[0].addEventListener("dblclick",function(e){s||(t.stopPropagation(e),a.ctrlTimeline.seek(0).play(),a.tl.seek(0).play(),c=!1)}),p[0].addEventListener("keydown",function(t){"Shift"===t.key&&i.setAttribute("step",.01)}),p[0].addEventListener("keyup",function(t){"Shift"===t.key&&i.setAttribute("step",.001)}),a.ctrlTimeline=gsap.timeline({repeat:a.tl.repeat(),repeatDelay:a.tl.repeatDelay(),onUpdate:function(){i.value=a.tl.time(),function(t){var e=Math.floor(t),i=Math.floor(t%1*100);o[0].textContent=String(e+100).substr(1),o[2].textContent=String(i+100).substr(1),e=Math.floor(g),i=Math.floor(g%1*100),o[4].textContent=String(e+100).substr(1),o[6].textContent=String(i+100).substr(1)}(a.tl.totalTime())}}),a.ctrlTimeline.set({progress:0},{progress:1},g)}}(window.EGPlus);
