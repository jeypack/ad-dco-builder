<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8" />
		<title>TPL DCO 220211 02</title>
        <meta name="ad.size" content="width=300,height=600">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- STYLES -->
        <style>body{overflow:hidden;}#bg-exit{width:100%;height:100%;}div.wrapper-banner div.alpha,div.wrapper-banner img.alpha,span.alpha{ opacity: 0; }</style>
    </head>
    <body>
        <div id="bg-exit" class="wrapper-banner">
			<!-- START ANIMATION -->
            <div id="egp-anim" class="alpha">
                <div id="font-small-load" class="alpha">A</div>
                <div id="bkg" class=""></div>
                <div id="image-1" class="alpha"></div>
                <div id="copy-1" class="split typo "></div>
                <div id="video-1" class="alpha"></div>
                <div id="copy-2" class="split typo alpha"></div>
                <div id="logos" class="alpha"></div>
                <div id="promo" class="alpha"></div>
                <div id="cta" class="alpha"><div></div></div>
                <!-- END ANIMATION -->
                <div egp-module="modal" id="nfo-win">
                    <div egp-module="close-btn"></div>
                    <div id="nfo-title" class="typo"></div>
                    <div id="nfo-content" class="typo"></div>
                </div>
                <div id="info-btn" egp-module="open-btn" egp-target="#nfo-win" egp-autopause="0"></div>
            </div>
            <div id="border-top" class="border"></div>
            <div id="border-right" class="border"></div>
            <div id="border-bottom" class="border"></div>
            <div id="border-left" class="border"></div>
        </div>
        <script src="https://s0.2mdn.net/ads/studio/cached_libs/gsap_3.5.1_min.js"></script>
        <script src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
        <script>!function(){"use strict";function t(t){t&&this.add(t)}function e(t,e){if(t&&t.length>0){var n=t[0].getAttribute("egp-target"),i=Boolean(Number(t[0].getAttribute("egp-autopause"))),o=t[0].getAttribute("egp-autoplay"),a=l(n),c="openBtnClick"===e&&s.settings.modalOpenerOnOver?"mouseenter":"click";a.length>0&&"openBtnClick"===e&&gsap.set(a,{css:{display:"none"}}),"closeBtnClick"===e&&gsap.set(t,{css:{display:"none"}}),t[0].addEventListener(c,function(n){var l="modalClick"===e&&("close-btn"===n.target.getAttribute("egp-module")||"EGP-CLOSE-BTN"===n.target.tagName.toUpperCase());if(a.length>0&&"openBtnClick"===e&&(gsap.set('[egp-module="close-btn"], egp-close-btn',{css:{display:"block"}}),gsap.set(t,{css:{display:"none"}}),gsap.set(a,{css:{display:"block"}}),gsap.fromTo(a,{duration:.21,opacity:0},{opacity:1}),r.$target=t,i&&s.tl&&!s.tl.paused()&&s.tl.pause()),"closeBtnClick"===e&&(gsap.set('[egp-module="close-btn"], egp-close-btn',{css:{display:"none"}}),a.length>0?(gsap.set(a,{css:{display:"none"}}),o&&s.tl&&s.tl.paused&&s.tl.play()):(gsap.set(t[0].parentNode,{css:{display:"none"}}),s.tl&&s.tl.paused&&s.tl.play()),r.$target&&r.$target.length&&(gsap.set(r.$target,{css:{display:"block"}}),r.$target=null)),r.has(e)&&r.dispatchEvent({type:e,target:n.target,origEvent:n}),s.has(e)&&s.dispatchEvent({type:e,target:n.target,origEvent:n}),!l)return n.stopPropagation(),!1},!0)}}function n(){(p=l("#bg-exit"))&&p.length>0&&(u=!0,e(l('[egp-module="close-btn"], egp-close-btn'),"closeBtnClick"),e(l('[egp-module="open-btn"], egp-open-btn'),"openBtnClick"),e(l('[egp-module="modal"], egp-modal'),"modalClick"),p[0].addEventListener("click",function(t){var e=r.has("clickThrough");r.has("beforeClickThrough")&&r.dispatchEvent({type:"beforeClickThrough",origEvent:t}),e?r.dispatchEvent({type:"clickThrough",origEvent:t}):g&&r.clickThrough(),(e||g)&&(s.clicked=!0),r.has("afterClickThrough")&&r.dispatchEvent({type:"afterClickThrough",origEvent:t})},!1))}function i(){d=!0,r.connectionName&&(r.CONNECTION_TYPE="LOCAL_STORAGE",console.log("EG+ ‚≠ï H T M L 5 - C O N N E C T I O N - 5.0.0 üîí","TYPE:",r.CONNECTION_TYPE,"NAME:",r.connectionName),setTimeout(function(){var t,e=m.getItem("connected");t=JSON.parse(e),Array.isArray(t)?(t.push(r.connectionName+Date.now()),r.connectionMax&&t.length===r.connectionMax&&setTimeout(function(){y({key:"connected"})})):t=[r.connectionName+Date.now()],m.setItem("connected",JSON.stringify(t))},f)),u||n(),r.dispatchEvent({type:"init"})}function o(){document.removeEventListener("DOMContentLoaded",o,!1),n()}var a,r,s,l,c,p,u=!1,d=!1,g=!1,h=0,f=150,m=window.localStorage,y=function(t){if("connected"===t.key){var e=JSON.parse(m.getItem("connected"));Array.isArray(e)&&e.length===r.connectionMax&&(window.removeEventListener("storage",y),m.removeItem("connected"),m.setItem("talk","run"+Date.now()),r.dispatchEvent({type:"connected",max:e.length}))}},v=function(t){if("talk"===t.key){var e=t.newValue?t.newValue.split("#"):["",0];r.dispatchEvent({type:"talk",name:r.connectionName,action:e[0],stamp:e[1]})}};(a=t.prototype=[]).add=function(e){var n,i,o,a;if("string"==typeof e)for(n=0,i=(o=document.querySelectorAll(e)).length;n<i;n++)this.push(o.item(n));else if(e instanceof t||"number"==typeof e.length)for(n=0,i=e.length;n<i;n++)(a=e[n])instanceof Element&&this.push(a);else e instanceof Element&&this.push(e);return this},a.eq=function(e){var n=new t;return n.push(this[e]),n},a.find=function(e){var n,i,o,a,r=new t;for(n=0,i=this.length;n<i;n++)for(a=this[n].querySelectorAll(e),o=0;o<a.length;o++)r.push(a.item(o));return r},a.trimSvgUrls=function(){for(var t,e,n,i,o=this.length;--o>=0;){t=this[o];try{e=t.getAttribute("mask"),n="mask"}catch(i){try{e=t.getAttribute("fill"),n="fill"}catch(t){}}e&&-1!==e.indexOf("url")&&(i="#"+e.split("(")[1].split(")")[0].split("#")[1],t.setAttribute(n,"url("+window.location.href+i+")"))}return this},window.EGPlus=r={},s={init:null,images:[],clicked:!1,loaded:!1,currentRepeat:0,settings:{modalOpenerOnOver:!1},isInitialized:function(){return g}},r.ad=s,r.data={},r.initEventDispatcher=function(t){var e={},n=function(t,n,i,o,a){var r={method:n||t,parameters:i,once:"boolean"==typeof o&&o,stopPropagation:!1};e.hasOwnProperty(t)?(a.off(t,n),e[t].push(r)):e[t]=[r]};return Object.defineProperty(t,"dispatchEvent",{value:function(t){var n,i,o,a,r="string"==typeof t?t:t.type;if(e.hasOwnProperty(r))for(a=(n=e[r]).length;--a>-1;){if(o=n[a],"string"==typeof(i=o.method)&&(i=this[i]),i.apply(this,o.parameters||[t]),o.stopPropagation){o.stopPropagation=!1;break}if(o.once&&"boolean"==typeof o.once&&(n.splice(a,1),0===n.length))return e[r]=null,this}return this}}),Object.defineProperty(t,"has",{value:function(t){return e.hasOwnProperty(t)&&e[t]&&e[t].length>0}}),Object.defineProperty(t,"on",{value:function(t,e,i,o){return n(t,e,i,"boolean"==typeof o&&o,this),this}}),Object.defineProperty(t,"one",{value:function(t,e,i){return n(t,e,i,!0,this),this}}),Object.defineProperty(t,"off",{value:function(t,n){if(e.hasOwnProperty(t))if(e[t].length&&n&&"function"==typeof n){var i,o=e[t],a=o.length;for(i=0;i<a;i++)if(o[i].method===n)return o.splice(i,1),this}else e[t].splice(0);return this}}),Object.defineProperty(t,"stopPropagation",{value:function(t){var n,i,o="string"==typeof t?t:t.type;if(e.hasOwnProperty(o))for(i=(n=e[o]).length;--i>-1;)n[i].stopPropagation=!0;return this}}),t},r.initEventDispatcher(r),r.initEventDispatcher(s),r.CONNECTION_TYPE="NULL",r.extend=function(t,e,n){var i,o,a,r,s=arguments.length,l=arguments[s-1],c="number"!=typeof l?0:l>2?2:l<0?0:l,p=c>0?s-1:s;for(o=1;o<p;o++){a=arguments[o];for(i in a)if(Object.prototype.hasOwnProperty.call(a,i))switch(r=a[i],typeof r,c){case 1:void 0!==t[i]&&(t[i]=r);break;case 2:void 0!==r&&(t[i]=r);break;default:t[i]=r}}return t},r.nsElems="svg g polygon rect polyline pattern defs circle ellipse line path",r.createElem=function(t,e,n,i){var o,a,s,l=-1!==r.nsElems.indexOf(e)?"http://www.w3.org/2000/svg":"",c=""!==l?document.createElementNS(l,e):document.createElement(e);for(s in n)if(n.hasOwnProperty(s))try{c.setAttribute("className"===s?"class":s,n[s])}catch(t){}for(s in i)if(i.hasOwnProperty(s))try{c.style[s]=i[s]}catch(t){}if(t.length)for(a=t.length,o=0;o<a;o++)t[o].appendChild(c);else t.appendChild(c);return c},r.connect=function(t,e){r.connectionName=t,e?(r.connectionMax=e,window.addEventListener("storage",y)):window.addEventListener("storage",v)},r.talk=function(t){m.setItem("talk",t+"#"+Date.now())},r.initAd=function(t){t&&r.extend(s.settings,t),s.size={width:gsap.getProperty(p[0],"width")||s.settings.width,height:gsap.getProperty(p[0],"height")||s.settings.height},s.init(),g=!0},r.isInitialized=function(){return d},r.getUniqueID=function(){return h++},r.getRan=function(t,e){return Math.random()*(e-t)+t},r.getPlusMinus=function(){return 1-2*Math.floor(2*Math.random())},l=r.$=r.LD=function(e){return new t(e)},s.setBkgImages=function(){var t,e,n,i,o,a,r,c=s.images,p=c.length;for(n=0;n<p;n++)if(""!==(e=c[n]).id){if(!(t=l(e.id)).length)throw new Error("ERROR inside ad.setBkgImages - cannot get dom node via selector!");i=e.x||0,o=e.y||0,a=e.bs||"auto",r=e.repeat||"no-repeat",t[0].style.background="url("+e.url+") "+i+" "+o+"/"+a+" "+r+" transparent"}},s.loadExtCss=function(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)},s.loadImages=function(t,e){var n,i,o,a=0,r=t.length,l=function(){++a===r&&(e?e():s.loaded=!0)},c=function(t){s.has("imageError")&&s.dispatchEvent({type:"imageError",event:t}),l()};for(s.loaded=!1,n=0;n<r;n++)(o=t[n])&&o.url&&((i=new Image).addEventListener("load",l),i.addEventListener("error",c),i.src=o.url,s.images.push(o));return s},s.politeLoad=function(t){s.loadImages(t,function(){s.setBkgImages(),s.loaded=!0,s.start()})},s.initTimeline=function(){s.tl=new gsap.timeline({defaults:{ease:"power1",duration:.5},paused:!0,onStart:function(){s.maxRepeat=Math.floor(s.tl.totalDuration()/s.tl.duration())-1,s.has("started")&&s.dispatchEvent({type:"started",time:s.tl.totalTime()/s.tl.timeScale()})},onRepeat:function(){s.currentRepeat++,s.has("repeat")&&s.dispatchEvent({type:"repeat",time:s.tl.totalTime()/s.tl.timeScale()})},onComplete:function(){s.has("completed")&&s.dispatchEvent({type:"completed",time:s.tl.totalTime()/s.tl.timeScale()})}}),s.tl.timeScale(1)},s.start=function(){s.loaded=!0,s.initAnimation&&s.initAnimation(),s.initTimeline();try{s.setTimelines(),s.visibilityHandler||s.tl.play()}catch(t){}s.has("start")&&s.dispatchEvent({type:"start"}),console.log("EG+ üåê H T M L 5 - S L I M","3.2.1","üîí URI PARAMS:",c),"string"==typeof c.egpfallback&&"1"===c.egpfallback&&setTimeout(function(){s.tl.seek(s.tl.totalDuration())},10)},s.init=function(){},r.clickThrough=function(t){window.open(t||c.clicktag,"_blank")},c=r.uriParams=function(){var t,e,n,i={clicktag:"https://www.example.com/"},o=window.location.search.substring(1).split("&");if(o.length<=0)return i;for(t=0;t<o.length;t+=1)e=o[t].split("="),n=decodeURIComponent(e[1]),e[0]=e[0].toLowerCase(),""!==n&&""!==e[0]&&(i[e[0]]=n);return i}(),"interactive"===document.readyState||"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener?window.addEventListener("load",i):window.onload=i}();
//@license  T I M E L I N E - C O N T R O L S - Version  : 2.1.0 - Author   : J. Pfeifer  @egplusww.com
!function(t){"use strict";var e,i,n,l,o=t.$,a=t.ad,r=o("#bg-exit"),p=o("body");a.on("start",function(){a.createTimelineControl(),a.initTimelineControl()}),a.createTimelineControl=function(o){"object"==typeof o?(o.step||(o.step=.001),o.bottom||(o.bottom=0)):o={bottom:0,step:.01};a.tl.totalDuration();var p={id:"timeline-control"},s={position:"absolute",left:"0",right:"0",top:"0px",bottom:"auto",width:"100%",height:"25px",borderTop:"1px dashed rgba(0,0,0,0.5)",borderBottom:"1px dashed rgba(0,0,0,0.5)",color:"#333",fontSize:"12px",background:"rgba(255,255,255,0.7)"};o.bottom&&"number"==typeof o.bottom&&(s.top="auto",s.bottom=o.bottom+"px"),e=t.createElem(r[0],"div",p,s),p={type:"range",min:"0",max:"100.0",value:"0",step:o.step.toString()},s={width:4*Math.floor(gsap.getProperty(r[0],"width")/6)+"px",margin:"5px 5px"},i=t.createElem(e,"input",p,s),t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="00",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle"}).textContent=".",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="99",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="/",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="99",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle"}).textContent=".",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="99",t.createElem(e,"span",{},{display:"inline-block",height:"100%",verticalAlign:"middle",margin:"0px 2px"}).textContent="click through:",n=t.createElem(e,"input",{type:"checkbox",value:"clickThrough"},{display:"inline-block",verticalAlign:"middle",margin:"0px 6px 10px 2px"}),l=r.find("#timeline-control"),gsap.set(l,{opacity:0})},a.initTimelineControl=function(){console.log("üòé","T I M E L I N E - C O N T R O L S ","2.1.0","‚úÖ");var o=l.find("span"),s=!1,c=!1,d=!1,m=a.tl.duration(),g=a.tl.totalDuration(),u=function(){c?(a.ctrlTimeline.play(),a.tl.play(),c=!1):(a.ctrlTimeline.pause(),a.tl.pause(),c=!0)};e.addEventListener("mouseenter",function(t){gsap.killTweensOf(e),gsap.to(e,{duration:.3,opacity:1}),d||c||(a.ctrlTimeline.pause(),a.tl.pause(),c=!0)}),e.addEventListener("mouseleave",function(t){gsap.to(e,{duration:.25,opacity:0,delay:.5}),d||c&&(a.ctrlTimeline.play(),a.tl.play(),c=!1)}),i.max=m,i.addEventListener("input",function(t){t.stopImmediatePropagation();var e=parseFloat(t.target.value,10);a.ctrlTimeline.seek(e).pause(),a.tl.seek(e).pause(),d=!0}),n.addEventListener("change",function(t){s=!s}),e.addEventListener("click",function(t){t.stopImmediatePropagation()}),t.on("clickThrough",function(e){s?d&&(u(),d=!1):(t.stopPropagation(e),u(),d=c)}),r[0].addEventListener("dblclick",function(e){s||(t.stopPropagation(e),a.ctrlTimeline.seek(0).play(),a.tl.seek(0).play(),c=!1)}),p[0].addEventListener("keydown",function(t){"Shift"===t.key&&i.setAttribute("step",.01)}),p[0].addEventListener("keyup",function(t){"Shift"===t.key&&i.setAttribute("step",.001)}),a.ctrlTimeline=gsap.timeline({repeat:a.tl.repeat(),repeatDelay:a.tl.repeatDelay(),onUpdate:function(){i.value=a.tl.time(),function(t){var e=Math.floor(t),i=Math.floor(t%1*100);o[0].textContent=String(e+100).substr(1),o[2].textContent=String(i+100).substr(1),e=Math.floor(g),i=Math.floor(g%1*100),o[4].textContent=String(e+100).substr(1),o[6].textContent=String(i+100).substr(1)}(a.tl.totalTime())}}),a.ctrlTimeline.set({progress:0},{progress:1},g)}}(window.EGPlus);

//DCO-LOCAL EG+ 2021 - Author: Joerg Pfeifer egplusww.com
(function (egp) {

  'use strict';

  var ad = egp.ad;

  //ad.NO_FEED_PROP = '';
  ad.FEED_STRINGS = 'format,DV360_LI_ID,AUDIENCE_ID,GEO_TARGETS,reporting_label,theme,anim,copy_1,copy_2,info,cta',
  ad.FEED_NUMBERS = 'unique_id,repeat_delay,max_loop',
  ad.FEED_BOOLEANS = 'is_default,is_active';

  /**
  * Sets profile id and feed property names
  * for Enabler and enables development
  * @param {object} feedObj ad.devFeedContent
  * @see egplus-html-build-inline.js
  * @see egplus-feed-temp.js
  */
  ad.transformSheetData = function (feedObj) {
    var i, l, key, propNames,
      idName = '_id',
      noFeedProp = '',
      sheetName = ad.sheetName,
      devData = {},
      setRowProperties = function (obj, row) {
        var key, value, isString, isNumber, isBoolean,
          strings = ad.FEED_STRINGS,
          numbers = ad.FEED_NUMBERS,
          booleans = ad.FEED_BOOLEANS;
        // now we loop over row properties
        for (key in row) {
          if (row.hasOwnProperty(key)) {
            if (noFeedProp.indexOf(key) === -1) {
              value = row[key];
              isString = strings.indexOf(key) !== -1;
              isNumber = numbers.indexOf(key) !== -1;
              isBoolean = booleans.indexOf(key) !== -1;
              if (isString || isNumber || isBoolean) {
                obj[key] = value;
              } else {
                obj[key] = {};
                if (key === 'start_date' || key === 'end_date') {
                  obj[key].RawValue = value;
                  obj[key].UtcValue = new Date(value).getUTCMilliseconds();
                } else if (key === 'exit_url') {
                  //console.info("setRowProperties", "obj[key]:", obj[key], "value:", value);
                  obj[key].Url = value;
                } else if (key.indexOf('video') !== -1) {
                  //console.info("setRowProperties", "obj[key]:", obj[key], "value:", value);
                  obj[key].Type = "video";
                  obj[key].Progressive_Url = value;
                  //obj[key].Stream_Url = value;
                } else {
                  obj[key].Type = "file";
                  obj[key].Url = value;
                }
              }
            }
            //console.info("setRowProperties", "key:", key, "value:", value);
            //console.info("setRowProperties", "isString:", isString, "isNumber:", isNumber, "isBoolean:", isBoolean);
          }
        }
        return obj;
      };
    /*ad.devDynamicContent[ad.sheetName][0].video = {};
		ad.devDynamicContent[ad.sheetName][0].video.Type = "video";
		ad.devDynamicContent[ad.sheetName][0].video.Progressive_Url = "DRM_Asset:UnityMedia_DE_B2B_Display/default/um_dummy_video_384x216.mp4";
		ad.devDynamicContent[ad.sheetName][0].video.Stream_Url = "";*/
    // prepare dev data
    devData[sheetName] = [{}];

    //console.info("ad.transformSheetData ", "feedObj:", feedObj);
    //now fill our dev content
    devData[sheetName][0][idName] = 0;
    setRowProperties(devData[sheetName][0], feedObj.sheet);
    //
    // set feed property names
    propNames = Object.keys(feedObj.sheet);
    l = propNames.length;
    for (i = 0; i < l; i++) {
      key = propNames[i];
      if (noFeedProp.indexOf(key) === -1) {
        ad.feedPropertyNames.push(key);
      }
    }
    //console.info("ad.initDynamicContent ", "ad.feedPropertyNames:", ad.feedPropertyNames);
    return devData;
  };

}(window.EGPlus));

//DCO-DATA EG+ 2021 - Author: Joerg Pfeifer egplusww.com
(function (egp) {

  'use strict';

  var $ = egp.$,
    ad = egp.ad;

  //+++DE+++
  // change sheet-name and asset-path here
  ad.sheetName = 'MC_DELIVERY_CH_DE_DCO_FEED_300X600_02_Sheet1';
  ad.imagesPath = '';
  ad.feedPropertyNames = [];
  ad.dynamicContent = {};
  //feednameforforcedpreview:mcdeliverychdedcofeed300x60001sheet1:10286221,request:datetime,request:dbmlineitemid,request:location
  (function helper() {
    var i, rows = 169,
      count = 1,
      pack = 13,
      min = 2210001,
      max = min + rows,
      out = 'feednameforforcedpreview:mcdeliverychitdcofeed300x60001sheet1:10298287,request:datetime';
    for (i = max - 1; i >= min; i--) {
      out += '\n' + i + ',2022-12-31T00:00+00:00';
    }
    /* out = '';
    count = 1;
    for (i = min; i < max; i++) {
      out += '\n' + i;
      if (count % pack === 0) {
        out += '\n';
      }
      count++;
    } */
    //
    console.log(out);
  }());

  ad.initDynamicContent = function () {
    console.log("MC_DELIVERY_CH_DE_DCO_FEED_300X600_02_Sheet1  ID: 10724036");
    console.log("TPL_DCO_AUTO_211101_DE_DATA ad.initDynamicContent", window.EGPlus);
    //+++DE+++
    Enabler.setProfileId(10724036);
    //Template function
    ad.setDynamicContent();
  };

  /**
  * Parses the dynamic content string entries to object key -> value pairs
  * !!! 'motiv' inside 'dco_data' has to be lowercase !!!
  */
  ad.parseHTML = function () {
    var $bkgExit = $('#bg-exit'),
      dynamicContent = ad.dynamicContent,
      classNames = 'wrapper-banner ' + dynamicContent.theme,
      removeAllScriptTags = function (s) {
        var i, scripts, div = document.createElement('div');
        div.innerHTML = s;
        scripts = div.getElementsByTagName('script');
        i = scripts.length;
        while (i--) {
          scripts[i].parentNode.removeChild(scripts[i]);
        }
        return div.innerHTML;
      },
      removeAllAttributes = /<\s*([a-z][a-z0-9]*)\s.*?>/gi;
    //
    //console.log("ad.parseHTML ", "classNames:", classNames);
    //third making dom manipulations
    $bkgExit[0].setAttribute('class', classNames);
    $bkgExit.find('#copy-1')[0].innerHTML = removeAllScriptTags(dynamicContent.copy_1.replace(removeAllAttributes, '<$1>'));
    $bkgExit.find('#copy-2')[0].innerHTML = removeAllScriptTags(dynamicContent.copy_2.replace(removeAllAttributes, '<$1>'));
    $bkgExit.find('#nfo-content')[0].innerHTML = removeAllScriptTags(dynamicContent.info.replace(removeAllAttributes, '<$1>'));
    $bkgExit.find('#cta div')[0].innerText = dynamicContent.cta;
    //console.log("ad.parseHTML ", "dynamicContent.copy_1_1:", dynamicContent.copy_1_1.replace(removeAllAttributes, '<$1>'));
  };

}(window.EGPlus));

//DCO-SHEET EG+ 2021 - Author: Joerg Pfeifer egplusww.com
window.EGPlus.ad.devFeedContent = {
  sheet: {
    'unique_id': 1,
    'format': '300x600',
    'DV360_LI_ID': 'stvko50on,ufk49j5d',
    'AUDIENCE_ID': 'stvko50on,ufk49j5d',
    'GEO_TARGETS': 'Essen,North Rhine-Westphalia,Germany',
    'start_date': '2020-10-03',
    'end_date': '2021-12-31',
    'reporting_label': 'MC_DELIVERY_300x600_',
    'theme': 'logos-1 copy-43 hline-40',
    'anim': 'std',
    //'image_1': './img/bigmac-2021-01-300x600.png',
    'image_1': './img/fries-2021-01-300x600.png',
    //'image_1': './img/mcchicken-2021-01-300x600.png',
    'video_1': './img/no-video.mp4',
    //<span></span> <br>
    //(40, 40), (41, 42), (43, 45), (49, 46), (54, 48)
    'copy_1': 'Grande Finale?<br>Extra Fries Bestellen.', //copy-39 hline-41
    //'copy_1': 'Einfach wiedermal<br>Fries bestellen.', //copy-45 hline-44
    //'copy_1': 'Jetzt wiedermal den<br>Klassiker bestellen.', //copy-41 hline-41
    //'copy_1': 'Wiedermal den<br>besseren Burger<br>bestellen.', //copy-42 hline-40
    //'copy_1': 'Wichtig:<br>Feine Fries zum<br>echten Burger.', //copy-42 hline-41
    //'copy_1': 'Wichtig: Feine<br>Fries zum echten<br>Burger.', //copy-46 hline-39
    //'copy_1': 'Endlich wiedermal<br>das Original<br>bestellen.', //copy-44 hline-39
    //'copy_1': 'Lasst euch liefern,<br>was ihr liebt.', //copy-46 hline-48
    //'copy_1': 'Der McChicken:<br>G√∂nnt euch was<br>feines.', //copy-46 hline-40
    //'copy_1': 'Mhmm‚Ä¶ lass dir<br>liefern, was du liebst.', //copy-39 hline-42
    //'copy_1': 'Wichtig: Fries zum<br>Burger bestellen.', //copy-46 hline-48
    //'copy_1': 'Jetzt das Original<br>bestellen.', //copy-47 hline-46
    //'copy_1': 'Der Big Mac:<br>Kultiger als beim<br>Asiaten.', //copy-42 hline-38
    //'copy_1': 'Der McChicken:<br>G√∂nn dir was<br>feines.', //copy-46 hline-40
    //'copy_1': 'French Fries:<br>die knusprige<br>Alternative.', //copy-42 hline-40
    //'copy_1': 'Der Big Mac:<br>Kultiger als beim<br>Italiener', //copy-42 hline-38
    //'copy_1': 'Jetzt McChicken<br>f√ºr alle bestellen.', //copy-48 hline-46
    //'copy_1': 'Jetzt 1 Runde Fries<br>f√ºr alle bestellen.', //copy-44 hline-44
    //'copy_1': 'Jetzt einmal Big Mac<br>f√ºr alle bestellen.', //copy-40 hline-42
    //'copy_1': 'Einfach mal g√∂nnen:<br>McChicken bestellen.', //copy-39 hline-42
    //'copy_1': 'G√∂nnung pur: Burger<br>mit Fries bestellen.', //copy-40 hline-42
    //'copy_1': 'Einfach mal g√∂nnen:<br>Big Mac bestellen.', //copy-41 hline-42
    //'copy_1': 'Hollywood Ending?<br>McChicken bestellen.', //copy-40 hline-42
    //'copy_1': 'Grande Finale?<br>Extra Fries Bestellen.', //copy-40 hline-42
    //'copy_1': 'Grosses Kino?<br>Big Mac bestellen.', //copy-46 hline-44
    //'copy_1': 'Level fertig gamen?<br>McChicken bestellen.', //copy-39 hline-42
    //'copy_1': 'Level up? Fries zum<br>Burger bestellen.', //copy-43 hline-44
    //'copy_1': 'Lass dir liefern,<br>was du liebst.', //copy-54 hline-48

    //'copy_1': 'Tout ce que tu aimes,<br>livr√© chez toi.',
    //'copy_1': 'Fatti consegnare<br>ci√≤ che adori.',
    'copy_2': '',
    //mc-delivery-smood-uber.png
    //'delivery': './img/divoora-jeat-smood-uber-01-300x600.png',
    //'delivery': './img/ueat-divoo-smood-01-300x600.png',
    //'delivery': './img/ueat-jeat-smood-01-300x600.png',
    //'delivery': './img/divoo-smood-01-300x600.png',
    'delivery': './img/ueat-divoo-01-300x600.png',
    //'delivery': './img/ueat-smood-01-300x600.png',
    //'delivery': './img/smood-01-300x600.png',
    //'delivery': './img/divoora-01-300x600.png',
    //'delivery': './img/uber-01-300x600.png',
    //'delivery': './img/jeat-01-300x600.png',
    //'delivery': './img/mc-delivery-01-300x600.png',
    'info': '',
    'cta': 'Jetzt bestellen!',
    //'cta': 'Commande maintenant !',
    //'cta': 'Ordina ora!',
    'css': 'TPL_DCO_300x600_211101.css',
    'js': 'TPL_DCO_300x600_211101_ANIM.js',
    'repeat_delay': 1.5,
    'max_loop': 2,
    'exit_url': 'https://www.mcdonalds.com/ch/de-ch/mcdelivery.html',
    'is_default': false,
    'is_active': true
  }
};

//DCO-FEED EG+ 2021 - Author: Joerg Pfeifer egplusww.com
(function (egp) {

    'use strict';

    var ad = egp.ad,
        addSuffix = function (url, dcmParameter) {
            var symbol,
                urlSuffix = Enabler.getParameter(dcmParameter);
            if (url) {
                symbol = (url.indexOf('?') > -1) ? '&' : '?';
                if (urlSuffix) {
                    while (urlSuffix.charAt(0) === '?' || urlSuffix.charAt(0) === '&') {
                        urlSuffix = urlSuffix.substring(1);
                    }
                    if (urlSuffix.indexOf('?') > -1) {
                        urlSuffix = urlSuffix.replace(/\?/g, '&');
                    }
                    return url + symbol + urlSuffix;
                }
                return url;
            }
            return '';
        };
    //
    // do not touch the following...
    ad.devDynamicContent = {};

    /**
     * Set dynamic content for development and live
     */
    ad.setDynamicContent = function () {
        //console.info("ad.setDynamicContent", "LOCATION HOSTNAME:", window.location.hostname);
        //
        //+++ local development +++
        // IMPORTANT: here we set row data from our intern sheet data js
        if (!ad.devFeedContent) {
            console.warn('Dev Mode but no sheet data available...');
            return;
        }

        //transform SHEET data to FEED data
        var devData = ad.transformSheetData(ad.devFeedContent);

        // enable development
        Enabler.setDevDynamicContent(devData);
        // save window.dynamicContent to ad.dynamicContent object
        ad.dynamicContent = window.dynamicContent[ad.sheetName][0];

        //first additional props - NUMBERS: repeat_delay max_loop
        ad.dynamicContent.max_loop = Number(ad.dynamicContent.max_loop);
        ad.dynamicContent.repeat_delay = Number(ad.dynamicContent.repeat_delay);
        //addSuffix -> Enabler.getParameter method to get the landing page suffix value

        //(stored in the exit_suffix macro) -> window.EGPlus.ad.ExitURL
        ad.ExitURL = addSuffix(ad.dynamicContent.exit_url.Url, 'exit_suffix');
        ad.ExitNAME = "Background Exit";

        console.info("*");
        console.info("ad.setDynamicContent ", "devData:", devData);
        console.log("ad.setDynamicContent", "ad.ExitNAME:", ad.ExitNAME, "ad.ExitURL:", ad.ExitURL);
        console.log("ad.setDynamicContent", "ad.dynamicContent:", ad.dynamicContent);

        // print all feed data to console
        ad.devDCODataToString(ad.devFeedContent);

        // FIRST: load extern
        ad.loadExt();
        // SECOND:	parse strings to properties
        ad.parseHTML();

    };

    /**
    * Load script and css files
    */
    ad.loadExt = function () {
        // Load in CSS
        var extCSS = document.createElement('link'),
            dynamicContent = ad.dynamicContent;
        extCSS.setAttribute("rel", "stylesheet");
        extCSS.setAttribute("type", "text/css");
        extCSS.setAttribute("href", Enabler.getUrl(dynamicContent.css.Url));
        document.getElementsByTagName("head")[0].appendChild(extCSS);
        //
        Enabler.loadScript(Enabler.getUrl(dynamicContent.js.Url), function () {
            console.info("READY LOADING JS -> EGPlus.initAd");
            egp.initAd();
        });
    };

    /**
     * Print out Feed Data
     * @param {object} feedObj ad.devFeedContent
     */
    ad.devDCODataToString = function (feedObj) {
        console.log('+');
        console.info('+++ FEED START +++');
        console.log(ad.feedPropertyNames.join('\t'));
        console.log(ad.feedRowToString(ad.dynamicContent, ad.feedPropertyNames));
        console.info('');
        console.info('+++ FEED END +++');
        console.log('+');
    };

    /**
     * Prints the dynamic content to feed row
     * @param   {object} obj       print row from obj
     * @param   {Array}  propNames array of property names
     * @returns {string} returns the properties from a row as a feed row
     */
    ad.feedRowToString = function (obj, propNames) {
        var name, prop, type, url, ind, suf, tab, i, d,
            l = propNames.length,
            row = '',
            suffixes = ['./img/', './js/', './', ad.imagesPath],
            //suffixes = ['./img/', './js/'],
            sl = suffixes.length;
        // 3-2-1 loop
        for (i = 0; i < l; i++) {
            name = propNames[i];
            prop = obj[name];
            type = (typeof prop);
            tab = (i < l - 1) ? '\t' : '';
            //console.info("ad.feedRowToString()", "name:", name, "type:", type, "prop:", prop)
            if (type === 'object') {
                if (prop.Url || prop.Progressive_Url || prop.Stream_Url || prop.RawValue) {
                    url = String(prop.Url || prop.Progressive_Url || prop.Stream_Url || prop.RawValue);
                    for (d = 0; d < sl; d++) {
                        suf = suffixes[d];
                        ind = url.indexOf(suf);
                        if (ind !== -1) {
                            row += url.substr(suf.length) + tab;
                            //console.info("ad.feedRowToString()", "name:", name, "type:", type, "prop:", prop, "ind:", ind, "suf:", suf, "suf.length:", suf.length, "col:", url.substr(suf.length));
                            break;
                        }
                    }
                    if (ind === -1) {
                        row += url + tab;
                    }
                } else {
                    //console.info("ad.feedRowToString() else", "name:", name, "type:", type, "prop:", prop);
                    // ### empty col ###
                    row += tab;
                }
            } else {
                //console.info("ad.feedRowToString() !Object", "name:", name, "type:", type, "prop:", prop);
                row += prop + tab;
            }
        }
        return row;
    };

}(window.EGPlus));

//
var egp = window.EGPlus;
egp.on('init', function () {
  console.log('EGPlus on init');
  var ad = egp.ad;
  // handle 'clickThrough'
  egp.on('clickThrough', function (e) {
    console.log("ExitURL:", ad.ExitURL);
    Enabler.exitOverride('Background Exit', ad.ExitURL);
  });
  if (Enabler.isInitialized()) {
    ad.initDynamicContent();
  } else {
    Enabler.addEventListener(studio.events.StudioEvent.INIT, ad.initDynamicContent);
  }
});
</script>    </body>
</html>
